以已实现为准。



| 模块                     | 功能点                                       | 功能说明                                                     | 状态   |
| ------------------------ | -------------------------------------------- | ------------------------------------------------------------ | ------ |
| **插件架构核心功能**     | 热插拔机制                                   | 支持在程序运行时加载/卸载插件，无需重启。                    | 已实现 |
|                          | 双监听机制                                   | 分别监听插件源码目录与插件资源目录，实现源码热编译和资源更新。 | 已实现 |
|                          | 插件资源映射                                 | 插件资源与核心应用资源路径映射管理，支持按需访问。           | 已实现 |
|                          | 插件源码热编译                               | 动态编译插件源码并加载生成的类到运行时环境。                 | 已实现 |
|                          | 插件Bean动态注册                             | 可在运行时将插件的 Java 类注册为 Bean，并注入核心容器管理。  | 已实现 |
|                          | 插件注册表管理                               | 维护插件元信息和状态，包括版本号、依赖信息、资源位置等。     | 已实现 |
|                          | 插件资源动态修改                             | 运行时允许修改插件的资源文件，并实时响应修改。               | 已实现 |
| **目录管理，浏览，操作** | 指定目录扫描功能（也算查询？）（节点树概念） | 扫描指定目录与其下x级（也算懒加载了），指定扫描类型（根据配置文件决定）的其它目录与文件。 结果封装为节点并包装成节点树，方便定义，扩展与管理。 | 已实现 |
|                          | JS解析节点树功能                             | 前端将会解析返回的节点树。 解析并使用DOM操作创建元素拼出结构并渲染。 | 已实现 |
|                          | JS拼接节点树功能                             | 若两次扫描实际属于同一线性关系（如a/b/c），但一次扫了a/，一次扫了a/b/c。 中间接续关系的a/b页面不知道其存在，则默认会将这两次扫描暂时视作同级目录。 当扫描了a/b，页面得到中间目录后，将会重新构建节点树。 将节点树重建为实际从属关系，并刷新页面渲染的结构。 | 已实现 |
|                          | 启动时获取设备根盘功能                       | 在启动程序或刷新页面（JS被重新触发页面加载事件）时，向后端发送初始化请求（也算一定的预加载了）。 返回当前设备的所有根路径（如windows将会返回所有盘符）。 不要让页面空空的，用户不知道要干嘛（要把用户当没脑子的傻逼照顾）。 | 已实现 |
|                          | 点击进入下一级功能                           | 当点击页面中的目录节点时，将会向后端请求这个节点的下一级成员。 前端将返回的节点树拼接上去。 | 已实现 |
|                          | 冷路径遗忘（时间遗忘，枝裁剪）               | 一定时间未被用户操作的路径将自动遗忘，清除Java对象。（配置文件增加：遗忘速度，遗忘量，开始遗忘阈值）用户点击某个节点时需要给后端打请求，告知这个节点被使用了一下。 | 已实现 |
|                          | 节点加热                                     | 节点被点击后给它加热，不要被冷遗忘杀掉。                     | 已实现 |
|                          | 目录监听（监听树，路径段概念）               | 监听文件系统，反应文件或目录的增删改事件。与节点树同步，仅对被管理的节点进行监听。且尽可能合并节点组成路径段，减少监听线程的创建。 | 已实现 |
| **插件功能（AI秘书）**   | 模型调用                                     | 调用API实现基本的对话和让模型调用工具方法。                  | 已实现 |
|                          | 工具方法自动化代理                           | 给AI用的工具方法要加Tool注解，但工具方法又在核心包里。 又因为插件不能改动核心包的源码，所以需要在插件里想办法。 这功能就可以根据传入的工具类（任意数量），动态创建对应的代理类与其中的方法，在代理方法上打Tool注解，并把获取的源方法的方法注释也拉出来写进Tool注解的description属性上，供AI理解。 | 已实现 |
|                          | 代理方法增强                                 | 创建的代理类与其方法无法被AOP切进去，就算做成Bean丢进IOC也切不进去。所以给这些代理方法又做了一层代理，算是给原方法增加一层额外的自定义逻辑。其实就是想检查代理方法是否被模型调用，但代理方法体直接导向原方法体，AOP又插不进去，所以只能给代理再做代理。 | 已实现 |
